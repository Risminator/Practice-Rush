[gd_scene load_steps=9 format=3 uid="uid://d0r2r1myifcpt"]

[ext_resource type="Script" path="res://scripts/main.gd" id="1_1vy4c"]
[ext_resource type="PackedScene" uid="uid://ctt0qlkn75itl" path="res://scenes/system.tscn" id="2_3y8jw"]
[ext_resource type="Texture2D" uid="uid://bwad6e07r1hsf" path="res://assets/cover.png" id="2_wx52h"]
[ext_resource type="Texture2D" uid="uid://ckiphkagxdkm5" path="res://assets/particles.png" id="4_iiavc"]

[sub_resource type="Animation" id="Animation_op6do"]
resource_name = "new_animation"
length = 3.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.1, 2.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [0, 1, 2]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ral7l"]
_data = {
"new_animation": SubResource("Animation_op6do")
}

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_3oldc"]
particles_animation = true
particles_anim_h_frames = 4
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_ubffn"]
lifetime_randomness = 0.5
particle_flag_disable_z = true
emission_shape_scale = Vector3(13.605, 300, 1)
emission_shape = 3
emission_box_extents = Vector3(50, 1, 1)
inherit_velocity_ratio = 20.0
direction = Vector3(1, -1, 0)
gravity = Vector3(0, -60, 0)
anim_speed_min = 1.0
anim_speed_max = 1.0

[node name="Main" type="Node"]
script = ExtResource("1_1vy4c")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture_filter = 1
position = Vector2(320, 160)
texture = ExtResource("2_wx52h")
hframes = 3
frame = 2

[node name="AnimationPlayer" type="AnimationPlayer" parent="Sprite2D"]
libraries = {
"": SubResource("AnimationLibrary_ral7l")
}
autoplay = "new_animation"

[node name="System" parent="." instance=ExtResource("2_3y8jw")]

[node name="GPUParticles2D" type="GPUParticles2D" parent="."]
modulate = Color(0.870588, 0.584314, 0.92549, 0.105882)
texture_filter = 1
material = SubResource("CanvasItemMaterial_3oldc")
position = Vector2(318, 192)
scale = Vector2(0.5, 0.5)
amount = 128
process_material = SubResource("ParticleProcessMaterial_ubffn")
texture = ExtResource("4_iiavc")
speed_scale = 0.3

[node name="Buttons" type="Control" parent="."]
texture_filter = 1
layout_mode = 3
offset_left = 148.0
offset_top = 67.0
offset_right = 188.0
offset_bottom = 107.0
size_flags_horizontal = 8

[node name="BtnStart" type="Button" parent="Buttons"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 212.0
offset_top = 96.0
offset_right = 389.0
offset_bottom = 127.0
grow_horizontal = 2
grow_vertical = 2
text = "Start"

[node name="BtnOptions" type="Button" parent="Buttons"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 212.0
offset_top = 141.0
offset_right = 389.0
offset_bottom = 172.0
grow_horizontal = 2
grow_vertical = 2
text = "Options"

[node name="BtnExit" type="Button" parent="Buttons"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 212.0
offset_top = 186.0
offset_right = 389.0
offset_bottom = 217.0
grow_horizontal = 2
grow_vertical = 2
text = "Exit"

[connection signal="pressed" from="Buttons/BtnStart" to="." method="_on_btn_start_pressed"]
[connection signal="pressed" from="Buttons/BtnOptions" to="." method="_on_btn_options_pressed"]
[connection signal="pressed" from="Buttons/BtnExit" to="." method="_on_btn_exit_pressed"]
